# Предложения по перелинковке толкований

## Уже реализовано ✅

1. **Блок "Похожие толкования"** на странице результата толкования (5 ссылок)
   - Поиск по ключевым словам из SEO полей (title, description, h1, h1_description)
   - Ранжирование по релевантности
   - Только готовые толкования с валидными SEO данными

2. **Блок "Последние толкования"** на главной странице (5 ссылок)
   - Показывается для авторизованных и неавторизованных пользователей
   - Последние готовые толкования с валидными SEO

## Дополнительные варианты перелинковки

### Приоритет 1 (Рекомендуется)

#### 1. На страницах инструкций (guides)
- **Блок "Последние толкования"** (3-5 ссылок)
- Размещение: правая колонка или внизу страницы
- **Польза:** Связывает статический контент (инструкции) с динамическим (толкования)
- **SEO:** Дополнительная перелинковка, улучшение индексации

#### 2. На страницах статей (articles)
- **Блок "Последние толкования"** (3-5 ссылок)
- Размещение: правая колонка или внизу страницы
- **Польза:** Аналогично инструкциям - связь статики с динамикой
- **SEO:** Улучшение внутренней перелинковки

### Приоритет 2 (Полезно)

#### 3. На странице отчета (если есть анализ)
- **Блок "Похожие толкования"** (3-5 ссылок)
- Размещение: правая колонка или после анализа
- **Польза:** Если у отчета есть анализ сна, показывать похожие толкования
- **SEO:** Релевантная перелинковка связанного контента

### Приоритет 3 (Опционально)

#### 4. На странице поиска/активности
- **Блок "Популярные толкования"** (5 ссылок)
- Размещение: правая колонка
- **Польза:** Показывать самые просматриваемые или недавние толкования
- **SEO:** Дополнительная видимость контента

#### 5. Внутренние ссылки в тексте толкования
- Автоматически находить упоминания тем/символов и делать их ссылками
- **Сложность:** Высокая (нужен парсинг текста, определение контекста)
- **Эффективность:** Очень высокая (естественная перелинковка)

#### 6. Блок "Толкования по темам"
- Группировать по ключевым словам/темам
- Показывать "Толкования про: вода, летать, дом..." с ссылками
- **Сложность:** Средняя (нужна группировка по темам)

#### 7. На странице профиля пользователя
- Блок "Ваши толкования" (если есть)
- Или "Последние толкования сообщества"
- **Польза:** Персонализация для пользователя

#### 8. В футере (осторожно!)
- Небольшой блок "Популярные толкования" (3 ссылки)
- **Важно:** Не перегружать футер, максимум 3-5 ссылок
- **SEO:** Может быть полезно, но не должно выглядеть как спам

## Технические детали

### Реализованный алгоритм поиска похожих
- Извлечение ключевых слов из SEO полей (title, description, h1, h1_description)
- Удаление стоп-слов
- Поиск совпадений в других толкованиях
- Ранжирование по количеству совпадений
- Фильтрация только готовых толкований с валидными SEO

### Ограничения
- Максимум 5-10 ссылок на странице (чтобы не выглядело как спам)
- Только готовые толкования (processing_status = 'completed')
- Только с валидными SEO данными (не дефолтные заголовки)
- Только после 16.01.2026 (исключение отладочных данных)

## Рекомендации по внедрению

1. **Начать с Приоритета 1** - страницы инструкций и статей
2. **Добавить Приоритет 2** - страница отчета с анализом
3. **Оценить эффективность** перед добавлением Приоритета 3

## Безопасность для SEO

- ✅ Естественные якоря (используются SEO title и description)
- ✅ Релевантные ссылки (поиск по ключевым словам)
- ✅ Ограниченное количество ссылок (5-10 на страницу)
- ✅ Разнообразие якорей (каждая ссылка имеет уникальный текст)
- ✅ Только качественный контент (готовые толкования с валидными SEO)
